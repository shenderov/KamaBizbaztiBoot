<div uib-alert ng-repeat="alert in $parent.authAddRecordBlockAlerts" ng-class="'alert-' + (alert.type || 'warning')"
     close="$parent.closeAuthAddRecordBlockAlert($index)" dismiss-on-timeout="5000">{{alert.msg}}
</div>
<form class="form-add-record" name="addRecordFormHolder.addEditRecordForm" role="form" ng-model="$parent.record">
    <p class="bg-danger" ng-show="alertError" ng-init="alertError=false"><strong>Custom purpose exist</strong>
    </p>
    <div class="form-group"
         ng-class="{'has-error': addRecordFormHolder.addEditRecordForm.inputAmount.$touched && addRecordFormHolder.addEditRecordForm.inputAmount.$invalid}">
        <label for="inputAmount">Amount:</label>
        <input type="number" id="inputAmount" class="form-control" placeholder="Enter amount" required
               ng-model="$parent.record.amount" name="inputAmount" max="9223372036854775807" min="-9223372036854775808">
    </div>
    <div class="form-group"
         ng-class="{'has-error': addRecordFormHolder.addEditRecordForm.inputPurpose.$touched && addRecordFormHolder.addEditRecordForm.inputPurpose.$invalid}">
        <label for="inputPurpose">Purpose:</label>
        <select class="form-control" id="inputPurpose"
                ng-options="purpose as purpose.name for purpose in $parent.purposesList  track by purpose.purposeId"
                required ng-model="$parent.record.purpose" name="inputPurpose"></select>
    </div>
    <div class="form-group"
         ng-class="{'has-error': addRecordFormHolder.addEditRecordForm.inputNewPurpose.$touched && addRecordFormHolder.addEditRecordForm.inputNewPurpose.$invalid}"
         ng-show="$parent.record.purpose.type == 'ADD_NEW'">
        <label for="inputNewPurpose">New Purpose Name:</label>
        <input type="text" id="inputNewPurpose" class="form-control" placeholder="Enter Purpose Name"
               ng-model="$parent.purposeName" maxlength="30" minlength="1" name="inputNewPurpose"
               ng-required="$parent.record.purpose.type == 'ADD_NEW'">
    </div>
    <div class="form-group">
        <label for="inputComment">Comment:</label>
        <input type="text" id="inputComment" class="form-control" ng-required="false" maxlength="100" laceholder="Enter comment (optional)"
               ng-model="$parent.record.comment" name="inputComment">
    </div>
    <div class="form-group"
         ng-class="{'has-error': addRecordFormHolder.addEditRecordForm.inputRecordDate.$touched && addRecordFormHolder.addEditRecordForm.inputRecordDate.$invalid}">
        <label for="records-addRecord-datePicker-recordDate-input">Record Date:</label>
        <input ng-click="$parent.openRecordDate()" type="datetime" class="form-control" uib-datepicker-popup="{{format}}"
               ng-model="$parent.recordDate" is-open="$parent.popupRecordDate.opened"
               datepicker-options="$parent.dateOptionsRecord" ng-required="true" close-text="Close"
               ng-change="$parent.setRecordDate(recordDate)" id="records-addRecord-datePicker-recordDate-input"
               name="inputRecordDate"/>
    </div>
</form>